(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(1159)}])},1159:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return rn}});var r=n(34051),a=n.n(r),s=n(85893),o=n(67294),u=n(95712),i=n(9008);function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return!t||"object"!==v(t)&&"function"!==typeof t?c(e):t}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}var v=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var a=d(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}var y,x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(n,e);var t=h(n);function n(){var e;return p(this,n),l(c(e=t.apply(this,arguments)),"render",(function(){return(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(i.default,{children:(0,s.jsx)("link",{rel:"stylesheet",href:"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.12/semantic.min.css"})}),e.props.children]})})),e}return n}(o.Component),g=x,b=n(3283),w=n.n(b);if("undefined"!==typeof window.ethereum)window.ethereum.request({method:"eth_requestAccounts"}),y=new(w())(window.ethereum);else{var j=new(w().providers.HttpProvider)("https://rinkeby.infura.io/v3/36d64c099c50404692eb8be07f68db77");y=new(w())(j)}var C=y,M=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"calendarAddress","type":"address"}],"name":"addCalendar","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"name","type":"string"}],"name":"createCalendar","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCalendars","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"leaveCalendar","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"transferBalance","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),S=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"groupAddress","type":"address"}],"name":"addGroup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"gname","type":"string"},{"internalType":"string","name":"mname","type":"string"}],"name":"createGroup","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getGroups","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"leaveGroup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"transferBalance","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),E=JSON.parse('{"d":"0x66DE22a1b29D000f63815Cd7c8016d21204f9283","X":"0xF30266a24c157E7383c3a75fDA840C745d0B826f"}'),T=new C.eth.Contract(M.Mt,E.d),N=new C.eth.Contract(S.Mt,E.X);function Z(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Z(s,r,a,o,u,"next",e)}function u(e){Z(s,r,a,o,u,"throw",e)}o(void 0)}))}}var G=function(){var e=k(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.eth.getAccounts();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=k(a().mark((function e(t,n,r){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=14;break}return e.next=3,G();case 3:return s=e.sent,r=w().utils.toWei(""+r,"ether"),e.prev=5,e.next=8,N.methods.createGroup(t,n).send({from:s,value:r});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 14:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),A=function(){var e=k(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:return t=e.sent,e.prev=3,e.next=6,N.methods.getGroups().call({from:t});case 6:return n=e.sent,e.abrupt("return",{status:!0,result:{joinedGroups:n}});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{status:!1,reason:e.t0});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=k(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return e.next=3,G();case 3:return n=e.sent,e.prev=4,e.next=7,N.methods.addGroup(t).send({from:n});case 7:return e.abrupt("return",{status:!0});case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 13:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=k(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:return n=e.sent,e.prev=3,e.next=6,N.methods.leaveGroup(t).send({from:n});case 6:return e.abrupt("return",{status:!0});case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",{status:!1,reason:e.t0});case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),z=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string","name":"title","type":"string"},{"internalType":"address","name":"_manager","type":"address"},{"internalType":"string","name":"name","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"cooperator","type":"address"},{"internalType":"uint256","name":"permission","type":"uint256"},{"internalType":"string","name":"name","type":"string"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"addCooperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"monthTimestamp","type":"uint256"},{"internalType":"uint256","name":"eventStartTimestamp","type":"uint256"},{"internalType":"uint256","name":"eventEndTimestamp","type":"uint256"},{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"addEvent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newManager","type":"address"}],"name":"changeManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"address","name":"cooperator","type":"address"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"deleteCooperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"monthTimestamp","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"deleteEvent","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"getCalendarTitle","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"getCooperators","outputs":[{"internalType":"address[]","name":"_cooperators","type":"address[]"},{"internalType":"string[]","name":"names","type":"string[]"},{"internalType":"uint256[]","name":"permissions","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"monthTimestamp","type":"uint256"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"getEvents","outputs":[{"internalType":"uint256[]","name":"eventStartTimestamps","type":"uint256[]"},{"internalType":"uint256[]","name":"eventEndTimestamps","type":"uint256[]"},{"internalType":"string[]","name":"titles","type":"string[]"},{"internalType":"string[]","name":"descriptions","type":"string[]"},{"internalType":"uint256[]","name":"indexes","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"title","type":"string"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"updateCalendarTitle","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"cooperator","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"permission","type":"uint256"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"updateCooperator","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"monthTimestamp","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"eventStartTimestamp","type":"uint256"},{"internalType":"uint256","name":"eventEndTimestamp","type":"uint256"},{"internalType":"string","name":"title","type":"string"},{"internalType":"string","name":"description","type":"string"},{"internalType":"address[]","name":"cooperatorAddress","type":"address[]"}],"name":"updateEvent","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),L=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string","name":"gname","type":"string"},{"internalType":"string","name":"mname","type":"string"},{"internalType":"address","name":"_manager","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"memberAddress","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"permission","type":"uint256"}],"name":"addMember","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newManager","type":"address"}],"name":"changeManager","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"address","name":"memberAddress","type":"address"}],"name":"deleteMember","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getGroupName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getMembers","outputs":[{"internalType":"address[]","name":"membersAddress","type":"address[]"},{"internalType":"string[]","name":"names","type":"string[]"},{"internalType":"uint256[]","name":"permissions","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"manager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"name","type":"string"}],"name":"updateGroupName","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"memberAddress","type":"address"},{"internalType":"string","name":"name","type":"string"},{"internalType":"uint256","name":"permission","type":"uint256"}],"name":"updateMember","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),_=function(e){return new C.eth.Contract(z.Mt,e)},I=function(e){return new C.eth.Contract(L.Mt,e)};function J(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){J(s,r,a,o,u,"next",e)}function u(e){J(s,r,a,o,u,"throw",e)}o(void 0)}))}}var V=function(){var e=R(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.eth.getAccounts();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e){return{View:1,Admin:2}[e]},H=function(){var e=R(a().mark((function e(t,n,r,s){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&r&&s)){e.next=15;break}return e.next=3,V();case 3:return o=e.sent,s=F(s),e.prev=5,t=I(t),e.next=9,t.methods.addMember(n,r,s).send({from:o});case 9:return e.abrupt("return",{status:!0});case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 15:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),B=function(){var e=R(a().mark((function e(t){var n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}return e.next=3,V();case 3:return n=e.sent,e.prev=4,t=I(t),e.next=8,t.methods.getMembers().call({from:n});case 8:return r=e.sent,s=r[2].map((function(e){return{1:"View",2:"Admin"}[e]})),e.abrupt("return",{status:!0,result:{membersAddress:r[0],names:r[1],permissions:s}});case 13:return e.prev=13,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 16:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=R(a().mark((function e(t,n,r,s){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&r&&s)){e.next=15;break}return e.next=3,V();case 3:return o=e.sent,s=F(s),e.prev=5,t=I(t),e.next=9,t.methods.updateMember(n,r,s).send({from:o});case 9:return e.abrupt("return",{status:!0});case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 15:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Y=function(){var e=R(a().mark((function e(t,n,r){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return s=e.sent,e.prev=3,t=I(t),e.next=7,t.methods.deleteMember(n,r).send({from:s});case 7:return e.abrupt("return",{status:!0});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{status:!1,reason:e.t0});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Q=function(){var e=R(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}return e.next=3,V();case 3:return n=e.sent,e.prev=4,t=I(t),e.next=8,t.methods.getGroupName().call({from:n});case 8:return r=e.sent,e.abrupt("return",{status:!0,result:{groupName:r}});case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 15:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=R(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=14;break}return e.next=3,V();case 3:return r=e.sent,e.prev=4,t=I(t),e.next=8,t.methods.updateGroupName(n).send({from:r});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 14:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}(),X=function(){var e=R(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=14;break}return e.next=3,V();case 3:return r=e.sent,e.prev=4,t=I(t),e.next=8,t.methods.changeManager(n).send({from:r});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 14:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}();function W(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function K(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){W(s,r,a,o,u,"next",e)}function u(e){W(s,r,a,o,u,"throw",e)}o(void 0)}))}}var $=function(){var e=K(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.eth.getAccounts();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=K(a().mark((function e(t,n,r){var s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=14;break}return e.next=3,$();case 3:return s=e.sent,r=w().utils.toWei(""+r,"ether"),e.prev=5,e.next=8,T.methods.createCalendar(t,n).send({from:s,value:r});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 14:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 15:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),te=function(){var e=K(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:return t=e.sent,e.prev=3,e.next=6,T.methods.getCalendars().call({from:t});case 6:return n=e.sent,e.abrupt("return",{status:!0,result:{joinedCalendars:n}});case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",{status:!1,reason:e.t0});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=K(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}return e.next=3,$();case 3:return n=e.sent,e.prev=4,e.next=7,T.methods.addCalendar(t).send({from:n});case 7:return e.abrupt("return",{status:!0});case 10:return e.prev=10,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 13:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=K(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:return n=e.sent,e.prev=3,e.next=6,T.methods.leaveCalendar(t).send({from:n});case 6:return e.abrupt("return",{status:!0});case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return",{status:!1,reason:e.t0});case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}();function ae(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function se(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){ae(s,r,a,o,u,"next",e)}function u(e){ae(s,r,a,o,u,"throw",e)}o(void 0)}))}}var oe=function(){var e=se(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.eth.getAccounts();case 2:return e.abrupt("return",e.sent[0]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(e,t){var n=[];return e&&n.push(e),n.push(t),n},ie=function(e){return{View:1,Edit:2,Admin:3}[e]},ce=function(){var e=se(a().mark((function e(t,n,r,s,o,u,i){var c,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&r&&s&&o&&u)){e.next=16;break}return e.next=3,oe();case 3:return c=e.sent,p=ue(i,c),e.prev=5,t=_(t),e.next=9,t.methods.addEvent(n,r,s,o,u,p).send({from:c});case 9:return e.sent,e.abrupt("return",{status:!0});case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 16:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n,r,a,s,o,u){return e.apply(this,arguments)}}(),pe=function(){var e=se(a().mark((function e(t,n,r){var s,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=16;break}return e.next=3,oe();case 3:return s=e.sent,o=ue(r,s),e.prev=5,t=_(t),e.next=9,t.methods.getEvents(n,o).call({from:s});case 9:return u=e.sent,e.abrupt("return",{status:!0,result:{eventStartTimestamps:u[0],eventEndTimestamps:u[1],titles:u[2],descriptions:u[3],indexes:u[4]}});case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 16:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n,r){return e.apply(this,arguments)}}(),le=function(){var e=se(a().mark((function e(t,n,r,s,o,u,i,c){var p,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&s&&o&&u&&i)){e.next=15;break}return e.next=3,oe();case 3:return p=e.sent,l=ue(c,p),e.prev=5,t=_(t),e.next=9,t.methods.updateEvent(n,r,s,o,u,i,l).send({from:p});case 9:return e.abrupt("return",{status:!0});case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 15:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n,r,a,s,o,u,i){return e.apply(this,arguments)}}(),de=function(){var e=se(a().mark((function e(t,n,r,s){var o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:return o=e.sent,u=ue(s,o),e.prev=4,t=_(t),e.next=8,t.methods.deleteEvent(n,r,u).send({from:o});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),fe=function(){var e=se(a().mark((function e(t,n){var r,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}return e.next=3,oe();case 3:return r=e.sent,s=ue(n,r),e.prev=5,t=_(t),e.next=9,t.methods.getCalendarTitle(s).call({from:r});case 9:return o=e.sent,e.abrupt("return",{status:!0,result:{calendarTitle:o}});case 14:return e.prev=14,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 17:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n){return e.apply(this,arguments)}}(),me=function(){var e=se(a().mark((function e(t,n,r){var s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=15;break}return e.next=3,oe();case 3:return s=e.sent,o=ue(r,s),e.prev=5,t=_(t),e.next=9,t.methods.updateCalendarTitle(n,o).send({from:s});case 9:return e.abrupt("return",{status:!0});case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 15:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ve=function(){var e=se(a().mark((function e(t,n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!n){e.next=14;break}return e.next=3,oe();case 3:return r=e.sent,e.prev=4,t=_(t),e.next=8,t.methods.changeManager(n).send({from:r});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 14:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=se(a().mark((function e(t,n,r,s,o){var u,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&r&&s)){e.next=16;break}return e.next=3,oe();case 3:return u=e.sent,i=ue(o,u),r=ie(r),e.prev=6,t=_(t),e.next=10,t.methods.addCooperator(n,r,s,i).send({from:u});case 10:return e.abrupt("return",{status:!0});case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",{status:!1,reason:e.t0});case 16:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),ye=function(){var e=se(a().mark((function e(t,n){var r,s,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=17;break}return e.next=3,oe();case 3:return r=e.sent,s=ue(n,r),e.prev=5,t=_(t),e.next=9,t.methods.getCooperators(s).call({from:r});case 9:return o=e.sent,u=o[2].map((function(e){return{1:"View",2:"Edit",3:"Admin"}[e]})),e.abrupt("return",{status:!0,result:{cooperatorsAddress:o[0],names:o[1],permissions:u}});case 14:return e.prev=14,e.t0=e.catch(5),e.abrupt("return",{status:!1,reason:e.t0});case 17:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t,n){return e.apply(this,arguments)}}(),xe=function(){var e=se(a().mark((function e(t,n,r,s){var o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:return o=e.sent,u=ue(s,o),e.prev=4,t=_(t),e.next=8,t.methods.deleteCooperator(n,r,u).send({from:o});case 8:return e.abrupt("return",{status:!0});case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",{status:!1,reason:e.t0});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ge=function(){var e=se(a().mark((function e(t,n,r,s,o){var u,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&n&&r&&s)){e.next=16;break}return e.next=3,oe();case 3:return u=e.sent,i=ue(o,u),s=ie(s),e.prev=6,t=_(t),e.next=10,t.methods.updateCooperator(n,r,s,i).send({from:u});case 10:return e.abrupt("return",{status:!0});case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",{status:!1,reason:e.t0});case 16:return e.abrupt("return",{status:!1,reason:"Something Empty"});case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,n,r,a,s){return e.apply(this,arguments)}}(),be=n(63272),we=n(27411),je=n(25552),Ce=n(25142),Me=n(60416),Se=n(80967),Ee=n(60345),Te=n(65927),Ne=n(30711),Ze=n(69249);function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ge(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function Oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Ge(s,r,a,o,u,"next",e)}function u(e){Ge(s,r,a,o,u,"throw",e)}o(void 0)}))}}function Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e){return ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ze(e)}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){De(e,t,n[t])}))}return e}function _e(e,t){return!t||"object"!==Je(t)&&"function"!==typeof t?ke(e):t}function Ie(e,t){return Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ie(e,t)}var Je=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ze(e);if(t){var a=ze(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _e(this,n)}}var Ve=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}(i,e);var t,n,r,o=Re(i);function i(){var e;Ae(this,i),De(ke(e=o.apply(this,arguments)),"state",{open:!1,newGroupName:"",newGroupManagerName:"",groupAddressToJoin:"",selectedGroup:e.props.getSelectedGroup(),editedGroupName:e.props.getSelectedGroup().name,newMemberName:"",newMemberAddress:"",editedMemberName:"",joinedGroupMembers:e.props.getSelectedGroupMembers(),editingPermission:{},newMemberPermission:"View"});var t=ke(e);De(ke(e),"refreshState",Oe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({selectedGroup:t.props.getSelectedGroup(),editedGroupName:t.props.getSelectedGroup().name,joinedGroupMembers:t.props.getSelectedGroupMembers()});case 1:case"end":return e.stop()}}),e)})))),De(ke(e),"setNewGroupName",(function(t){e.setState({newGroupName:t.target.value})})),De(ke(e),"setNewGroupManagerName",(function(t){e.setState({newGroupManagerName:t.target.value})})),De(ke(e),"setGroupAddressToJoin",(function(t){e.setState({groupAddressToJoin:t.target.value})})),De(ke(e),"setEditedGroupName",(function(t){e.setState({editedGroupName:t.target.value})})),De(ke(e),"setNewMemberName",(function(t){e.setState({newMemberName:t.target.value})})),De(ke(e),"setNewMemberAddress",(function(t){e.setState({newMemberAddress:t.target.value})})),De(ke(e),"setEditedMember",(function(t){e.setState({editedMemberName:t.target.value})})),De(ke(e),"setNewMemberPermission",(function(t,n){e.setState({newMemberPermission:n.value})}));var n=ke(e);De(ke(e),"createNewGroup",Oe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.newGroupName||!n.state.newGroupManagerName){e.next=6;break}return n.setState({open:!1}),e.next=4,O(n.state.newGroupName,n.state.newGroupManagerName,n.props.getDonateVolume()||0);case 4:return e.next=6,n.props.refreshJoinedGroups();case 6:case"end":return e.stop()}}),e)}))));var r=ke(e);De(ke(e),"joinGroup",Oe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.groupAddressToJoin){e.next=6;break}return r.setState({open:!1}),e.next=4,P(r.state.groupAddressToJoin);case 4:return e.next=6,r.props.refreshJoinedGroups();case 6:case"end":return e.stop()}}),e)}))));var c=ke(e);De(ke(e),"editGroupName",Oe(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.state.editedGroupName){e.next=8;break}return c.setState({open:!1}),e.next=4,q(c.state.selectedGroup.address,c.state.editedGroupName);case 4:return t=e.sent,console.log(t),e.next=8,c.props.refreshJoinedGroups();case 8:case"end":return e.stop()}}),e)}))));var p=ke(e);De(ke(e),"leaveGroup",Oe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.setState({open:!1}),e.next=3,D(p.state.selectedGroup.index);case 3:return e.sent,e.next=6,p.props.refreshJoinedGroups();case 6:case"end":return e.stop()}}),e)}))));var l=ke(e);De(ke(e),"addNewMember",Oe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(l.state.newMemberName),console.log(l.state.newMemberAddress),!l.state.newMemberName||!l.state.newMemberAddress){e.next=7;break}return e.next=5,H(l.state.selectedGroup.address,l.state.newMemberAddress,l.state.newMemberName,l.state.newMemberPermission);case 5:return e.next=7,l.props.getSelectedGroupMembers();case 7:case"end":return e.stop()}}),e)}))));var d=ke(e);De(ke(e),"updateMemberName",function(){var e=Oe(a().mark((function e(t,n){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.memberName.value,s=d.state.editingPermission[n],console.log(r),console.log(d.state.editingPermission),!r||!s){e.next=9;break}return e.next=7,U(d.state.selectedGroup.address,n,r,s);case 7:return e.next=9,d.props.getSelectedGroupMembers();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var f=ke(e);De(ke(e),"removeMember",function(){var e=Oe(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(f.state.selectedGroup.address,t,n);case 2:return e.next=4,f.props.getSelectedGroupMembers();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var m=ke(e);De(ke(e),"transferManager",function(){var e=Oe(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(m.state.selectedGroup.address,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var v=ke(e);return De(ke(e),"componentDidMount",Oe(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Select Group"==v.state.selectedGroup.name){e.next=3;break}return e.next=3,v.props.getSelectedGroupMembers();case 3:case"end":return e.stop()}}),e)})))),De(ke(e),"createTap",(function(){return{menuItem:"Create",render:function(){return(0,s.jsxs)(je.Z,{style:{paddingTop:"1em"},children:[(0,s.jsxs)(je.Z.Field,{widths:"equal",children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Group Name:"}),(0,s.jsx)(Me.Z,{placeholder:"New Group Name",onChange:e.setNewGroupName})]}),(0,s.jsxs)(je.Z.Field,{children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Username:"}),(0,s.jsx)(Me.Z,{placeholder:"Your identity",onChange:e.setNewGroupManagerName})]}),(0,s.jsx)(je.Z.Field,{children:(0,s.jsx)(Se.Z,{onClick:e.createNewGroup,children:"Create"})})]})}}})),De(ke(e),"joinTap",(function(){return{menuItem:"Join",render:function(){return(0,s.jsxs)(je.Z,{style:{paddingTop:"1em"},children:[(0,s.jsxs)(je.Z.Field,{children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Group Address:"}),(0,s.jsx)(Me.Z,{placeholder:"Group you want to join",onChange:e.setGroupAddressToJoin})]}),(0,s.jsx)(je.Z.Field,{children:(0,s.jsx)(Se.Z,{onClick:e.joinGroup,children:"Join"})})]})}}})),De(ke(e),"selectedGroupTap",(function(){return{menuItem:e.state.selectedGroup.name,render:function(){return(0,s.jsxs)(u.Z,{children:[(0,s.jsxs)(je.Z,{style:{paddingTop:"1em"},children:[(0,s.jsxs)(je.Z.Field,{children:[(0,s.jsxs)(Ce.Z,{size:"large",children:["Group Name (Address: ",e.state.selectedGroup.address,"):"]}),(0,s.jsx)(Me.Z,{placeholder:"Name you would like to change to",onChange:e.setEditedGroupName,value:e.state.editedGroupName})]}),(0,s.jsxs)(je.Z.Field,{children:[(0,s.jsx)(Se.Z,{onClick:e.editGroupName,children:"Edit"}),(0,s.jsx)(Se.Z,{onClick:e.leaveGroup,children:"Leave"})]})]}),(0,s.jsx)(Ee.Z,{}),(0,s.jsxs)(je.Z,{children:[(0,s.jsxs)(je.Z.Field,{children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Member Name:"}),(0,s.jsx)(Me.Z,{placeholder:"New Member Name",onChange:e.setNewMemberName})]}),(0,s.jsxs)(je.Z.Field,{children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Member Address:"}),(0,s.jsx)(Me.Z,{placeholder:"New Member Address",onChange:e.setNewMemberAddress})]}),(0,s.jsx)(je.Z.Field,{children:(0,s.jsx)(we.Z,{style:{marginLeft:"1em"},onChange:e.setNewMemberPermission,options:[{text:"View",value:"View"},{text:"Admin",value:"Admin"}],defaultValue:"View"})}),(0,s.jsx)(je.Z.Field,{children:(0,s.jsx)(Se.Z,{onClick:e.addNewMember,children:"Add"})})]}),(0,s.jsx)(Ee.Z,{}),(0,s.jsxs)(Te.Z,{padded:!0,children:[(0,s.jsx)(Te.Z.Header,{children:(0,s.jsxs)(Te.Z.Row,{children:[(0,s.jsx)(Te.Z.HeaderCell,{children:"Address"}),(0,s.jsx)(Te.Z.HeaderCell,{children:"Name and Permission"}),(0,s.jsx)(Te.Z.HeaderCell,{children:"Actions"})]})}),(0,s.jsx)(Te.Z.Body,{children:e.state.joinedGroupMembers.map((function(t,n){return(0,s.jsxs)(Te.Z.Row,{children:[(0,s.jsx)(Te.Z.HeaderCell,{children:t.address}),(0,s.jsx)(Te.Z.HeaderCell,{children:(0,s.jsxs)(je.Z,{onSubmit:function(n){e.updateMemberName(n,t.address)},children:[(0,s.jsx)(Me.Z,{name:"memberName",defaultValue:t.name}),(0,s.jsx)(we.Z,{style:{marginLeft:"1em"},onChange:function(n,r){var a={};a[t.address]=r.value,e.setState({editingPermission:Le({},e.state.editingPermission,a)})},options:[{text:"View",value:"View"},{text:"Admin",value:"Admin"}],defaultValue:t.permission}),(0,s.jsx)(Se.Z,{type:"submit",children:"Edit"})]})}),(0,s.jsxs)(Te.Z.HeaderCell,{children:[(0,s.jsx)(Se.Z,{onClick:function(r){e.removeMember(n,t.address)},children:"Remove"}),(0,s.jsx)(Se.Z,{onClick:function(n){e.transferManager(t.address)},children:"Transfer"})]})]},n)}))})]})]})}}})),e}return t=i,(n=[{key:"render",value:function(){var e=this;return(0,s.jsxs)(Ne.Z,{style:{top:"15%"},open:this.state.open,size:"large",onClose:function(){return e.setState({open:!1})},onOpen:function(){e.refreshState(),e.setState({open:!0})},trigger:(0,s.jsx)(Se.Z,{children:"Manage Group"}),children:[(0,s.jsx)(Ne.Z.Header,{children:"Manage Group"}),(0,s.jsx)(Ne.Z.Content,{scrolling:!0,children:this.props.hasSelectedGroup?(0,s.jsx)(Ze.Z,{panes:[this.createTap(),this.joinTap(),this.selectedGroupTap()]}):(0,s.jsx)(Ze.Z,{panes:[this.createTap(),this.joinTap()]})})]})}}])&&Pe(t.prototype,n),r&&Pe(t,r),i}(o.Component),Fe=Ve;function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function Ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Be(s,r,a,o,u,"next",e)}function u(e){Be(s,r,a,o,u,"throw",e)}o(void 0)}))}}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e){return Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Xe(e)}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){qe(e,t,n[t])}))}return e}function Ke(e,t){return!t||"object"!==et(t)&&"function"!==typeof t?He(e):t}function $e(e,t){return $e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$e(e,t)}var et=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xe(e);if(t){var a=Xe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Ke(this,n)}}var nt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}(i,e);var t,n,r,o=tt(i);function i(){var e;Ye(this,i),qe(He(e=o.apply(this,arguments)),"state",{open:!1,newCalendarName:"",newCalendarManagerName:"",calendarAddressToJoin:"",selectedCalendar:e.props.getSelectedCalendar(),editedCalendarName:e.props.getSelectedCalendar().title,newCooperatorName:"",newCooperatorAddress:"",editedCooperatorName:"",joinedCalendarCooperators:e.props.getSelectedCalendarCooperators(),editingPermission:{},newCooperatorPermission:"View"});var t=He(e);qe(He(e),"refreshState",Ue(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({selectedCalendar:t.props.getSelectedCalendar(),editedCalendarName:t.props.getSelectedCalendar().title,joinedCalendarCooperators:t.props.getSelectedCalendarCooperators()});case 1:case"end":return e.stop()}}),e)})))),qe(He(e),"setNewCalendarName",(function(t){e.setState({newCalendarName:t.target.value})})),qe(He(e),"setNewCalendarManagerName",(function(t){e.setState({newCalendarManagerName:t.target.value})})),qe(He(e),"setCalendarAddressToJoin",(function(t){e.setState({calendarAddressToJoin:t.target.value})})),qe(He(e),"setEditedCalendarName",(function(t){e.setState({editedCalendarName:t.target.value})})),qe(He(e),"setNewCooperatorName",(function(t){e.setState({newCooperatorName:t.target.value})})),qe(He(e),"setNewCooperatorAddress",(function(t){e.setState({newCooperatorAddress:t.target.value})})),qe(He(e),"setEditedCooperator",(function(t){e.setState({editedCooperatorName:t.target.value})})),qe(He(e),"setNewCooperatorPermission",(function(t,n){e.setState({newCooperatorPermission:n.value})}));var n=He(e);qe(He(e),"createNewCalendar",Ue(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.newCalendarName||!n.state.newCalendarManagerName){e.next=6;break}return n.setState({open:!1}),e.next=4,ee(n.state.newCalendarName,n.state.newCalendarManagerName,n.props.getDonateVolume()||0);case 4:return e.next=6,n.props.refreshJoinedCalendars();case 6:case"end":return e.stop()}}),e)}))));var r=He(e);qe(He(e),"joinCalendar",Ue(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.state.calendarAddressToJoin){e.next=6;break}return r.setState({open:!1}),e.next=4,ne(r.state.calendarAddressToJoin);case 4:return e.next=6,r.props.refreshJoinedCalendars();case 6:case"end":return e.stop()}}),e)}))));var c=He(e);qe(He(e),"editCalendarName",Ue(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c.state.editedCalendarName){e.next=7;break}return c.setState({open:!1}),e.next=4,me(c.state.selectedCalendar.address,c.state.editedCalendarName,c.props.getSelectedGroup().address);case 4:return e.sent,e.next=7,c.props.refreshJoinedCalendars();case 7:case"end":return e.stop()}}),e)}))));var p=He(e);qe(He(e),"leaveCalendar",Ue(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.setState({open:!1}),e.next=3,re(p.state.selectedCalendar.index);case 3:return e.sent,e.next=6,p.props.refreshJoinedCalendars();case 6:case"end":return e.stop()}}),e)}))));var l=He(e);qe(He(e),"addNewCooperator",Ue(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.state.newCooperatorName||!l.state.newCooperatorAddress){e.next=6;break}return e.next=3,he(l.state.selectedCalendar.address,l.state.newCooperatorAddress,l.state.newCooperatorPermission,l.state.newCooperatorName,l.props.getSelectedGroup().address);case 3:return e.sent,e.next=6,l.props.getSelectedCalendarCooperators();case 6:case"end":return e.stop()}}),e)}))));var d=He(e);qe(He(e),"updateCooperatorName",function(){var e=Ue(a().mark((function e(t,n){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.cooperatorName.value,s=d.state.editingPermission[n],!r||!s){e.next=7;break}return e.next=5,ge(d.state.selectedCalendar.address,n,r,s,d.props.getSelectedGroup().address);case 5:return e.next=7,d.props.getSelectedCalendarCooperators();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var f=He(e);qe(He(e),"removeCooperator",function(){var e=Ue(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(f.state.selectedCalendar.address,t,n);case 2:return e.next=4,f.props.getSelectedCalendarCooperators();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());var m=He(e);qe(He(e),"transferManager",function(){var e=Ue(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(m.state.selectedCalendar.address,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var v=He(e);return qe(He(e),"componentDidMount",Ue(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Select Calendar"==v.state.selectedCalendar.title){e.next=3;break}return e.next=3,v.props.getSelectedCalendarCooperators();case 3:case"end":return e.stop()}}),e)})))),qe(He(e),"createTap",(function(){return{menuItem:"Create",render:function(){return(0,s.jsxs)(je.Z,{style:{paddingTop:"1em"},children:[(0,s.jsxs)(je.Z.Field,{widths:"equal",children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Calendar Name:"}),(0,s.jsx)(Me.Z,{placeholder:"New Calendar Name",onChange:e.setNewCalendarName})]}),(0,s.jsxs)(je.Z.Field,{children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Username:"}),(0,s.jsx)(Me.Z,{placeholder:"Your identity",onChange:e.setNewCalendarManagerName})]}),(0,s.jsx)(je.Z.Field,{children:(0,s.jsx)(Se.Z,{onClick:e.createNewCalendar,children:"Create"})})]})}}})),qe(He(e),"joinTap",(function(){return{menuItem:"Join",render:function(){return(0,s.jsxs)(je.Z,{style:{paddingTop:"1em"},children:[(0,s.jsxs)(je.Z.Field,{children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Calendar Address:"}),(0,s.jsx)(Me.Z,{placeholder:"Calendar you want to join",onChange:e.setCalendarAddressToJoin})]}),(0,s.jsx)(je.Z.Field,{children:(0,s.jsx)(Se.Z,{onClick:e.joinCalendar,children:"Join"})})]})}}})),qe(He(e),"selectedCalendarTap",(function(){return{menuItem:e.state.selectedCalendar.title,render:function(){return(0,s.jsxs)(u.Z,{children:[(0,s.jsxs)(je.Z,{style:{paddingTop:"1em"},children:[(0,s.jsxs)(je.Z.Field,{children:[(0,s.jsxs)(Ce.Z,{size:"large",children:["Calendar Name (Address: ",e.state.selectedCalendar.address,"):"]}),(0,s.jsx)(Me.Z,{placeholder:"Name you would like to change to",onChange:e.setEditedCalendarName,value:e.state.editedCalendarName})]}),(0,s.jsxs)(je.Z.Field,{children:[(0,s.jsx)(Se.Z,{onClick:e.editCalendarName,children:"Edit"}),(0,s.jsx)(Se.Z,{onClick:e.leaveCalendar,children:"Leave"})]})]}),(0,s.jsx)(Ee.Z,{}),(0,s.jsxs)(je.Z,{children:[(0,s.jsxs)(je.Z.Field,{children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Cooperator Name:"}),(0,s.jsx)(Me.Z,{placeholder:"New Cooperator Name",onChange:e.setNewCooperatorName})]}),(0,s.jsxs)(je.Z.Field,{children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Cooperator Address:"}),(0,s.jsx)(Me.Z,{placeholder:"New Cooperator Address",onChange:e.setNewCooperatorAddress})]}),(0,s.jsx)(je.Z.Field,{children:(0,s.jsx)(we.Z,{style:{marginLeft:"1em"},onChange:e.setNewCooperatorPermission,options:[{text:"View",value:"View"},{text:"Admin",value:"Admin"}],defaultValue:"View"})}),(0,s.jsx)(je.Z.Field,{children:(0,s.jsx)(Se.Z,{onClick:e.addNewCooperator,children:"Add"})})]}),(0,s.jsx)(Ee.Z,{}),(0,s.jsxs)(Te.Z,{padded:!0,children:[(0,s.jsx)(Te.Z.Header,{children:(0,s.jsxs)(Te.Z.Row,{children:[(0,s.jsx)(Te.Z.HeaderCell,{children:"Address"}),(0,s.jsx)(Te.Z.HeaderCell,{children:"Name and Permission"}),(0,s.jsx)(Te.Z.HeaderCell,{children:"Actions"})]})}),(0,s.jsx)(Te.Z.Body,{children:e.state.joinedCalendarCooperators.map((function(t,n){return(0,s.jsxs)(Te.Z.Row,{children:[(0,s.jsx)(Te.Z.HeaderCell,{children:t.address}),(0,s.jsx)(Te.Z.HeaderCell,{children:(0,s.jsxs)(je.Z,{onSubmit:function(n){e.updateCooperatorName(n,t.address)},children:[(0,s.jsx)(Me.Z,{name:"cooperatorName",defaultValue:t.name}),(0,s.jsx)(we.Z,{style:{marginLeft:"1em"},onChange:function(n,r){var a={};a[t.address]=r.value,e.setState({editingPermission:We({},e.state.editingPermission,a)})},options:[{text:"View",value:"View"},{text:"Admin",value:"Admin"}],defaultValue:t.permission}),(0,s.jsx)(Se.Z,{type:"submit",children:"Edit"})]})}),(0,s.jsxs)(Te.Z.HeaderCell,{children:[(0,s.jsx)(Se.Z,{onClick:function(r){e.removeCooperator(n,t.address)},children:"Remove"}),(0,s.jsx)(Se.Z,{onClick:function(n){e.transferManager(t.address)},children:"Transfer"})]})]},n)}))})]})]})}}})),e}return t=i,(n=[{key:"render",value:function(){var e=this;return(0,s.jsxs)(Ne.Z,{style:{top:"15%"},open:this.state.open,size:"large",onClose:function(){return e.setState({open:!1})},onOpen:function(){e.refreshState(),e.setState({open:!0})},trigger:(0,s.jsx)(Se.Z,{children:"Manage Calendar"}),children:[(0,s.jsx)(Ne.Z.Header,{children:"Manage Calendar"}),(0,s.jsx)(Ne.Z.Content,{scrolling:!0,children:this.props.hasSelectedCalendar?(0,s.jsx)(Ze.Z,{panes:[this.createTap(),this.joinTap(),this.selectedCalendarTap()]}):(0,s.jsx)(Ze.Z,{panes:[this.createTap(),this.joinTap()]})})]})}}])&&Qe(t.prototype,n),r&&Qe(t,r),i}(o.Component),rt=nt;function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){st(s,r,a,o,u,"next",e)}function u(e){st(s,r,a,o,u,"throw",e)}o(void 0)}))}}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e){return ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ct(e)}function pt(e,t){return!t||"object"!==dt(t)&&"function"!==typeof t?at(e):t}function lt(e,t){return lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},lt(e,t)}var dt=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ft(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var a=ct(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pt(this,n)}}var mt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}(n,e);var t=ft(n);function n(){var e;ut(this,n),it(at(e=t.apply(this,arguments)),"state",{selectedGroup:e.props.getSelectedGroup(),selectedCalendar:e.props.getSelectedCalendar(),joinedGroups:e.props.getJoinedGroups(),joinedCalendars:e.props.getJoinedCalendars(),groupsOptions:[],calendarOptions:[],selectedGroupMembers:[],selectedCalendarCooperators:[]});var r=at(e);it(at(e),"refreshState",ot(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setState({selectedGroup:r.props.getSelectedGroup(),selectedCalendar:r.props.getSelectedCalendar(),joinedGroups:r.props.getJoinedGroups(),joinedCalendars:r.props.getJoinedCalendars()}),r.getGroupsOptions(),r.getCalendarsOptions();case 3:case"end":return e.stop()}}),e)}))));var o=at(e);it(at(e),"requestSelectedGroupMembers",ot(a().mark((function e(){var t,n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(o.state.selectedGroup.address);case 2:if((t=e.sent).status){for(n=t.result,r=[],s=0;s<n.names.length;s++)r.push({index:s,address:n.membersAddress[s],name:n.names[s],permission:n.permissions[s]});o.setState({selectedGroupMembers:r})}case 4:case"end":return e.stop()}}),e)})))),it(at(e),"getSelectedGroupMembers",(function(){return e.state.selectedGroupMembers}));var u=at(e);it(at(e),"requestSelectedCalendarCooperator",ot(a().mark((function e(){var t,n,r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(u.state.selectedCalendar.address,u.state.selectedGroup.address);case 2:if((t=e.sent).status){for(n=t.result,r=[],s=0;s<n.names.length;s++)r.push({index:s,address:n.cooperatorsAddress[s],name:n.names[s],permission:n.permissions[s]});u.setState({selectedCalendarCooperators:r})}case 4:case"end":return e.stop()}}),e)})))),it(at(e),"getSelectedCalendarCooperators",(function(){return e.state.selectedCalendarCooperators}));var i=at(e);it(at(e),"componentDidMount",ot(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.props.refreshJoinedGroups();case 2:return e.next=4,i.props.refreshJoinedCalendars();case 4:return e.next=6,i.refreshState();case 6:case"end":return e.stop()}}),e)}))));var c=at(e);it(at(e),"handleSelectGroup",function(){var e=ot(a().mark((function e(t,n){var r,s,o,u,i,p,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.value,s=!0,o=!1,u=void 0,e.prev=2,i=c.state.joinedGroups[Symbol.iterator]();case 4:if(s=(p=i.next()).done){e.next=13;break}if((l=p.value).text!=r){e.next=10;break}return e.next=9,c.props.setSelectedGroup(r,l.value.address,l.value.index);case 9:return e.abrupt("break",13);case 10:s=!0,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),o=!0,u=e.t0;case 19:e.prev=19,e.prev=20,s||null==i.return||i.return();case 22:if(e.prev=22,!o){e.next=25;break}throw u;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return e.next=29,c.refreshState();case 29:return e.next=31,c.requestSelectedGroupMembers();case 31:case"end":return e.stop()}}),e,null,[[2,15,19,27],[20,,22,26]])})));return function(t,n){return e.apply(this,arguments)}}());var p=at(e);return it(at(e),"handleSelectCalendar",function(){var e=ot(a().mark((function e(t,n){var r,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.value,s=0;case 2:if(!(s<p.state.joinedCalendars.length)){e.next=11;break}if((o=p.state.joinedCalendars[s]).value.title!=r){e.next=8;break}return e.next=7,p.props.setSelectedCalendar(r,o.value.address,s);case 7:return e.abrupt("break",11);case 8:s++,e.next=2;break;case 11:return e.next=13,p.refreshState();case 13:return e.next=15,p.requestSelectedCalendarCooperator();case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),it(at(e),"getGroupsOptions",(function(){e.setState({groupsOptions:e.state.joinedGroups.map((function(e){return{text:e.text,value:e.value.name}}))})})),it(at(e),"getCalendarsOptions",(function(){e.setState({calendarOptions:e.state.joinedCalendars.map((function(e){return{text:e.text,value:e.value.title}}))})})),it(at(e),"render",(function(){return(0,s.jsxs)(be.Z,{stackable:!0,style:{marginTop:"0.5em"},children:[(0,s.jsx)(be.Z.Item,{header:!0,children:"Owl Calendar"}),(0,s.jsxs)(be.Z.Menu,{position:"right",children:[(0,s.jsx)(be.Z.Item,{children:(0,s.jsx)(we.Z,{scrolling:!0,id:"groupDropdown",text:e.state.selectedGroup.name,options:e.state.groupsOptions,onChange:e.handleSelectGroup})}),(0,s.jsx)(be.Z.Item,{children:(0,s.jsx)(we.Z,{scrolling:!0,id:"calendarDropdown",text:e.state.selectedCalendar.title,options:e.state.calendarOptions,onChange:e.handleSelectCalendar})}),(0,s.jsx)(be.Z.Item,{children:(0,s.jsx)(Fe,{refreshJoinedGroups:e.props.refreshJoinedGroups,getDonateVolume:e.props.getDonateVolume,getSelectedGroup:e.props.getSelectedGroup,getSelectedGroupMembers:e.getSelectedGroupMembers,hasSelectedGroup:"Select Group"!=e.state.selectedGroup.name})}),(0,s.jsx)(be.Z.Item,{children:(0,s.jsx)(rt,{refreshJoinedCalendars:e.props.refreshJoinedCalendars,getDonateVolume:e.props.getDonateVolume,getSelectedCalendar:e.props.getSelectedCalendar,getSelectedCalendarCooperators:e.getSelectedCalendarCooperators,hasSelectedCalendar:"Select Calendar"!=e.state.selectedCalendar.title,getSelectedGroup:e.props.getSelectedGroup})})]})]})})),e}return n}(o.Component),vt=mt,ht=n(85775),yt=n(47257);function xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e){return wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wt(e)}function jt(e,t){return!t||"object"!==Mt(t)&&"function"!==typeof t?xt(e):t}function Ct(e,t){return Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ct(e,t)}var Mt=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function St(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=wt(e);if(t){var a=wt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return jt(this,n)}}var Et=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(n,e);var t=St(n);function n(){var e;return gt(this,n),bt(xt(e=t.apply(this,arguments)),"setVolume",(function(t){e.props.setDonateVolume(t.target.value)})),bt(xt(e),"render",(function(){return(0,s.jsx)("div",{children:(0,s.jsxs)(ht.Z,{children:[(0,s.jsx)(ht.Z.Column,{width:4,children:(0,s.jsx)(yt.Z,{wrapped:!0,avatar:!0,as:"a",size:"large",href:"https://github.com/ramwong/431/",target:"_blank",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMTIgMGMtNi42MjYgMC0xMiA1LjM3My0xMiAxMiAwIDUuMzAyIDMuNDM4IDkuOCA4LjIwNyAxMS4zODcuNTk5LjExMS43OTMtLjI2MS43OTMtLjU3N3YtMi4yMzRjLTMuMzM4LjcyNi00LjAzMy0xLjQxNi00LjAzMy0xLjQxNi0uNTQ2LTEuMzg3LTEuMzMzLTEuNzU2LTEuMzMzLTEuNzU2LTEuMDg5LS43NDUuMDgzLS43MjkuMDgzLS43MjkgMS4yMDUuMDg0IDEuODM5IDEuMjM3IDEuODM5IDEuMjM3IDEuMDcgMS44MzQgMi44MDcgMS4zMDQgMy40OTIuOTk3LjEwNy0uNzc1LjQxOC0xLjMwNS43NjItMS42MDQtMi42NjUtLjMwNS01LjQ2Ny0xLjMzNC01LjQ2Ny01LjkzMSAwLTEuMzExLjQ2OS0yLjM4MSAxLjIzNi0zLjIyMS0uMTI0LS4zMDMtLjUzNS0xLjUyNC4xMTctMy4xNzYgMCAwIDEuMDA4LS4zMjIgMy4zMDEgMS4yMy45NTctLjI2NiAxLjk4My0uMzk5IDMuMDAzLS40MDQgMS4wMi4wMDUgMi4wNDcuMTM4IDMuMDA2LjQwNCAyLjI5MS0xLjU1MiAzLjI5Ny0xLjIzIDMuMjk3LTEuMjMuNjUzIDEuNjUzLjI0MiAyLjg3NC4xMTggMy4xNzYuNzcuODQgMS4yMzUgMS45MTEgMS4yMzUgMy4yMjEgMCA0LjYwOS0yLjgwNyA1LjYyNC01LjQ3OSA1LjkyMS40My4zNzIuODIzIDEuMTAyLjgyMyAyLjIyMnYzLjI5M2MwIC4zMTkuMTkyLjY5NC44MDEuNTc2IDQuNzY1LTEuNTg5IDguMTk5LTYuMDg2IDguMTk5LTExLjM4NiAwLTYuNjI3LTUuMzczLTEyLTEyLTEyeiIvPjwvc3ZnPg=="})}),(0,s.jsxs)(ht.Z.Column,{floated:"right",width:9,children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Donate Ether when create Group and Calendar (no limitation):"}),(0,s.jsx)(Me.Z,{placeholder:"Ether",onChange:e.setVolume})]})]})})})),e}return n}(o.Component),Tt=Et,Nt=n(96827),Zt=n(30381),kt=n.n(Zt),Gt=(n(90121),n(416)),Ot=n(20945);function At(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pt(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function Dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Pt(s,r,a,o,u,"next",e)}function u(e){Pt(s,r,a,o,u,"throw",e)}o(void 0)}))}}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e){return _t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_t(e)}function It(e,t){return!t||"object"!==Rt(t)&&"function"!==typeof t?At(e):t}function Jt(e,t){return Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Jt(e,t)}var Rt=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_t(e);if(t){var a=_t(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return It(this,n)}}var Ft=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(n,e);var t=Vt(n);function n(){var e;zt(this,n),Lt(At(e=t.apply(this,arguments)),"state",{events:e.props.getEvents(),isCreateEventModalOpen:!1,createEventModalSetOpen:"",newEventStart:new Date,newEventEnd:new Date,newEventTitle:"",newEventDescription:"",selectedEventStart:new Date,selectedEventEnd:new Date,selectedEventTitle:"",selectedEventDescription:"",selectedEventId:0,isManageEventModalOpen:!1}),Lt(At(e),"handleSelectEvent",(function(t){e.setState({selectedEventStart:t.start,selectedEventEnd:t.end,selectedEventTitle:t.title,selectedEventDescription:t.description,isManageEventModalOpen:!0,selectedEventId:+t.id})})),Lt(At(e),"handleSelectSlot",(function(t){e.setState({isCreateEventModalOpen:!0,newEventStart:t.start,newEventEnd:t.end})})),Lt(At(e),"setIsCreateEventModalOpen",(function(t,n){e.setState({isCreateEventModalOpen:t,createEventModalSetOpen:n})})),Lt(At(e),"getIsCreateEventModalOpen",(function(){return e.state.isCreateEventModalOpen})),Lt(At(e),"getSelectedEvent",(function(){return e.state.selectedEvent}));var r=At(e);Lt(At(e),"createNewEvent",Dt(a().mark((function e(){var t,n,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.state.newEventStart.getMonth(),n=r.state.newEventStart.getFullYear(),s=+new Date(n,t,1),e.next=5,ce(r.props.getSelectedCalendar().address,s,+r.state.newEventStart,+r.state.newEventEnd,r.state.newEventTitle,r.state.newEventDescription,r.props.getSelectedGroup().address);case 5:return e.sent,e.next=8,r.props.refreshEvents(s);case 8:r.setState({events:r.props.getEvents(),isManageEventModalOpen:!1});case 9:case"end":return e.stop()}}),e)}))));var o=At(e);Lt(At(e),"componentDidMount",Dt(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.setState({events:o.props.getEvents()});case 2:case"end":return e.stop()}}),e)}))));var i=At(e);Lt(At(e),"updateSelectedEvent",Dt(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.state.selectedEventStart.getMonth(),n=i.state.selectedEventStart.getFullYear(),r=+new Date(n,t,1),e.next=5,le(i.props.getSelectedCalendar().address,r,i.state.selectedEventId,+i.state.selectedEventStart,+i.state.selectedEventEnd,i.state.selectedEventTitle,i.state.selectedEventDescription,i.props.getSelectedGroup().address);case 5:return e.sent,e.next=8,i.props.refreshEvents(r);case 8:i.setState({events:i.props.getEvents(),isManageEventModalOpen:!1});case 9:case"end":return e.stop()}}),e)}))));var c=At(e);return Lt(At(e),"removeSelectedEvent",Dt(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.state.selectedEventStart.getMonth(),n=c.state.selectedEventStart.getFullYear(),r=+new Date(n,t,1),e.next=5,de(c.props.getSelectedCalendar().address,r,c.state.selectedEventId,c.props.getSelectedGroup.address);case 5:return e.sent,e.next=8,c.props.refreshEvents(r);case 8:c.setState({events:c.props.getEvents(),isManageEventModalOpen:!1});case 9:case"end":return e.stop()}}),e)})))),Lt(At(e),"render",(function(){var t=(0,Nt.Zt)(kt());return(0,s.jsxs)(u.Z,{className:"myCustomHeight",style:{height:"60em"},children:[(0,s.jsx)(Nt.f,{localizer:t,events:e.state.events,startAccessor:"start",endAccessor:"end",onSelectEvent:e.handleSelectEvent,onSelectSlot:e.handleSelectSlot,selectable:!0}),(0,s.jsxs)(Ne.Z,{style:{top:"15%"},size:"large",onClose:function(){e.setState({isCreateEventModalOpen:!1})},onOpen:function(){e.setState({isCreateEventModalOpen:!0})},open:e.state.isCreateEventModalOpen,toggle:e.handleSelectSlot,children:[(0,s.jsx)(Ne.Z.Header,{children:"Create New Event"}),(0,s.jsx)(Ne.Z.Content,{children:(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Start:"}),(0,s.jsx)(Ot.Z,{onChange:function(){return e.setState({newEventStart:value})},value:e.state.newEventStart}),(0,s.jsx)(Ce.Z,{size:"large",children:"End:"}),(0,s.jsx)(Ot.Z,{onChange:function(){return e.setState({newEventEnd:value})},value:e.state.newEventEnd}),(0,s.jsx)("br",{}),(0,s.jsx)(Ce.Z,{size:"large",style:{marginTop:"1em"},children:"Title"}),(0,s.jsx)(Me.Z,{onChange:function(t){e.setState({newEventTitle:t.target.value})}}),(0,s.jsx)("br",{}),(0,s.jsx)(Ce.Z,{size:"large",style:{marginTop:"1em"},children:"Description"}),(0,s.jsx)("br",{}),(0,s.jsx)(Gt.Z,{onChange:function(t){e.setState({newEventDescription:t.target.value})}}),(0,s.jsx)("br",{}),(0,s.jsx)(Se.Z,{onClick:e.createNewEvent,children:"Create"})]})})]}),(0,s.jsxs)(Ne.Z,{style:{top:"15%"},size:"large",onClose:function(){e.setState({isManageEventModalOpen:!1})},onOpen:function(){e.setState({isManageEventModalOpen:!0})},open:e.state.isManageEventModalOpen,toggle:e.handleSelectEvent,children:[(0,s.jsxs)(Ne.Z.Header,{children:["Manage ",e.state.selectedEventTitle]}),(0,s.jsx)(Ne.Z.Content,{children:(0,s.jsxs)(u.Z,{children:[(0,s.jsx)(Ce.Z,{size:"large",children:"Start:"}),(0,s.jsx)(Ot.Z,{onChange:function(){return e.setState({selectedEventStart:value})},value:e.state.selectedEventStart}),(0,s.jsx)(Ce.Z,{size:"large",children:"End:"}),(0,s.jsx)(Ot.Z,{onChange:function(){return e.setState({selectedEventEnd:value})},value:e.state.selectedEventEnd}),(0,s.jsx)("br",{}),(0,s.jsx)(Ce.Z,{size:"large",style:{marginTop:"1em"},children:"Title"}),(0,s.jsx)(Me.Z,{onChange:function(t){e.setState({selectedEventTitle:t.target.value})},value:e.state.selectedEventTitle}),(0,s.jsx)("br",{}),(0,s.jsx)(Ce.Z,{size:"large",style:{marginTop:"1em"},children:"Description"}),(0,s.jsx)("br",{}),(0,s.jsx)(Gt.Z,{onChange:function(t){e.setState({selectedEventDescription:t.target.value})},value:e.state.selectedEventDescription}),(0,s.jsx)("br",{}),(0,s.jsx)(Se.Z,{onClick:e.updateSelectedEvent,children:"Update"}),(0,s.jsx)(Se.Z,{onClick:e.removeSelectedEvent,children:"Remove"})]})})]})]})})),e}return n}(o.Component),Ht=Ft,Bt=n(44623);function Ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e,t,n,r,a,s,o){try{var u=e[s](o),i=u.value}catch(c){return void n(c)}u.done?t(i):Promise.resolve(i).then(r,a)}function Qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function o(e){Yt(s,r,a,o,u,"next",e)}function u(e){Yt(s,r,a,o,u,"throw",e)}o(void 0)}))}}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(e){return Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wt(e)}function Kt(e,t){return!t||"object"!==en(t)&&"function"!==typeof t?Ut(e):t}function $t(e,t){return $t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$t(e,t)}var en=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function tn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wt(e);if(t){var a=Wt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Kt(this,n)}}var nn=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(n,e);var t=tn(n);function n(){var e;qt(this,n),Xt(Ut(e=t.apply(this,arguments)),"state",{selectedGroup:{name:"Select Group",address:"",index:0},selectedCalendar:{title:"Select Calendar",address:"",index:0},joinedGroups:[{text:"loading",value:{index:0,name:"loading",address:""}}],joinedCalendars:[{text:"loading",value:{title:"loading",address:""}}],donateVolume:0,events:[],getGroupsError:{message:"",error:!1},getCalendarsError:{message:"",error:!1},getEventsError:{message:"",error:!1},loading:!0,update:!0});var r=Ut(e);Xt(Ut(e),"setSelectedGroup",function(){var e=Qt(a().mark((function e(t,n,s){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.refreshJoinedCalendars();case 2:r.setState({selectedGroup:{name:t,address:n,index:s},selectedCalendar:{title:"Select Calendar",address:""}});case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var o=Ut(e);Xt(Ut(e),"setSelectedCalendar",function(){var e=Qt(a().mark((function e(t,n,r){var s,u,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new Date,u=s.getFullYear(),i=s.getMonth(),c=+new Date(u,i,1),e.next=6,o.setState({selectedCalendar:{title:t,address:n,index:r}});case 6:return e.next=8,o.refreshEvents(c);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var u=Ut(e);Xt(Ut(e),"refreshJoinedGroups",Qt(a().mark((function e(){var t,n,r,s,o,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.setState({getGroupsError:{message:"",error:!1},loading:!0}),e.next=3,A();case 3:if(!(t=e.sent).status){e.next=20;break}n=t.result.joinedGroups,r=[],s=0;case 8:if(!(s<n.length)){e.next=17;break}return o=n[s],e.next=12,Q(o);case 12:(i=e.sent).status&&(c=i.result.groupName,r.push({text:c,value:{name:c,address:o,index:s}}));case 14:s++,e.next=8;break;case 17:r?u.setState({joinedGroups:r,loading:!1}):u.setState({getGroupsError:{message:"Cannot get groups' name",error:!0}}),e.next=21;break;case 20:u.setState({getGroupsError:{message:t.reason,error:!0}});case 21:case"end":return e.stop()}}),e)}))));var i=Ut(e);Xt(Ut(e),"refreshJoinedCalendars",Qt(a().mark((function e(){var t,n,r,s,o,u,c,p,l,d,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.setState({getCalendarsError:{message:"",error:!1},loading:!0}),e.next=3,te();case 3:if(!(t=e.sent).status){e.next=36;break}n=t.result.joinedCalendars,r=[],s=!0,o=!1,u=void 0,e.prev=8,c=n[Symbol.iterator]();case 10:if(s=(p=c.next()).done){e.next=19;break}return l=p.value,e.next=14,fe(l,i.state.selectedGroup.address);case 14:(d=e.sent).status&&(f=d.result.calendarTitle,r.push({text:f,value:{title:f,address:l}}));case 16:s=!0,e.next=10;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(8),o=!0,u=e.t0;case 25:e.prev=25,e.prev=26,s||null==c.return||c.return();case 28:if(e.prev=28,!o){e.next=31;break}throw u;case 31:return e.finish(28);case 32:return e.finish(25);case 33:r?i.setState({joinedCalendars:r,loading:!1}):i.setState({getCalendarsError:{message:"Cannot get calendars' name",error:!0}}),e.next=37;break;case 36:i.setState({getCalendarsError:{message:t.reason,error:!0}});case 37:case"end":return e.stop()}}),e,null,[[8,21,25,33],[26,,28,32]])})))),Xt(Ut(e),"setDonateVolume",(function(t){e.setState({donateVolume:t})}));var c=Ut(e);return Xt(Ut(e),"refreshEvents",function(){var e=Qt(a().mark((function e(t){var n,r,s,o,u,i,p,l,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.setState({getGroupsError:{message:"",error:!1},loading:!0}),e.next=3,pe(c.state.selectedCalendar.address,t,c.state.selectedGroup.address);case 3:if((n=e.sent).status){for(r=n.result,s=r.eventStartTimestamps,o=r.eventEndTimestamps,u=r.titles,i=r.descriptions,p=r.indexes,l=[],d=0;d<p.length;d++)l.push({id:p[d],title:u[d],start:new Date(+s[d]),end:new Date(+o[d]),description:i[d]});c.setState({events:l,update:!c.state.update})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Xt(Ut(e),"getEvents",(function(){return e.state.events})),Xt(Ut(e),"getSelectedGroup",(function(){return e.state.selectedGroup})),Xt(Ut(e),"getSelectedCalendar",(function(){return e.state.selectedCalendar})),Xt(Ut(e),"getJoinedGroups",(function(){return e.state.joinedGroups})),Xt(Ut(e),"getJoinedCalendars",(function(){return e.state.joinedCalendars})),Xt(Ut(e),"getDonateVolume",(function(){return e.state.donateVolume})),Xt(Ut(e),"render",(function(){return(0,s.jsxs)(g,{children:[(0,s.jsx)(vt,{setSelectedGroup:e.setSelectedGroup,getSelectedGroup:e.getSelectedGroup,setSelectedCalendar:e.setSelectedCalendar,getSelectedCalendar:e.getSelectedCalendar,getJoinedGroups:e.getJoinedGroups,getJoinedCalendars:e.getJoinedCalendars,refreshJoinedGroups:e.refreshJoinedGroups,refreshJoinedCalendars:e.refreshJoinedCalendars,getDonateVolume:e.getDonateVolume}),(0,s.jsx)(Ht,{getSelectedGroup:e.getSelectedGroup,getSelectedCalendar:e.getSelectedCalendar,getEvents:e.getEvents,refreshEvents:e.refreshEvents},e.state.update),(0,s.jsx)(Bt.Z,{style:{verticalAlign:"middle"},children:(0,s.jsx)(Tt,{floated:"bottom",setDonateVolume:e.setDonateVolume})})]})})),e}return n}(o.Component),rn=nn},62859:function(){},75304:function(){},46601:function(){},89214:function(){},71922:function(){},2363:function(){},52361:function(){},94616:function(){},6567:function(){},56773:function(){},33557:function(){}},function(e){e.O(0,[482,770,714,885,353,774,888,179],(function(){return t=78581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);